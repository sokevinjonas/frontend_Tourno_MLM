
<!-- Background Elements -->
<div class="fixed inset-0 bg-[#0f172a] -z-50">
  <div class="absolute top-[-10%] right-[-10%] w-[500px] h-[500px] bg-blue-600/20 rounded-full blur-[120px] animate-pulse-glow"></div>
  <div class="absolute bottom-[-10%] left-[-10%] w-[500px] h-[500px] bg-purple-600/20 rounded-full blur-[120px] animate-pulse-glow" style="animation-delay: 2s;"></div>
  <div class="absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iMSIgY3k9IjEiIHI9IjEiIGZpbGw9IiMzYjgyZjYiIGZpbGwtb3BhY2l0eT0iMC4wNSIvPjwvc3ZnPg==')] opacity-30"></div>
</div>

<div class="min-h-screen flex items-center justify-center p-4">
  <div class="w-full max-w-md">
    <!-- Logo -->
    <div class="text-center mb-8">
      <a routerLink="/" class="inline-flex items-center gap-2 mb-2">
        <span class="text-3xl">üèÜ</span>
        <span class="text-2xl font-bold text-white tracking-widest">MLM</span>
      </a>
      <h1 class="text-2xl font-bold text-white">Bon retour, Champion !</h1>
      <p class="text-gray-400">Connecte-toi pour acc√©der √† tes tournois</p>
    </div>

    <!-- Login Card -->
    <div class="glass-card p-8 rounded-2xl relative overflow-hidden">
      <!-- Glow effect on top -->
      <div class="absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-blue-500 via-purple-500 to-blue-500 opacity-50"></div>

      <!-- Social Login -->
      <div class="space-y-3 mb-8">
        <button (click)="onSocialLogin('google')" 
                class="w-full flex items-center justify-center gap-3 px-6 py-3 rounded-xl bg-white/5 hover:bg-white/10 border border-white/10 hover:border-white/20 transition-all group">
          <svg class="w-5 h-5" viewBox="0 0 24 24"><path fill="#EA4335" d="M5.26620003,9.76452941 C6.19878754,6.93863203 8.85444915,4.90909091 12,4.90909091 C13.6909091,4.90909091 15.2181818,5.50909091 16.4181818,6.49090909 L19.9090909,3 C17.7818182,1.14545455 15.0545455,0 12,0 C7.27006974,0 3.1977497,2.69829785 1.23999023,6.65002441 L5.26620003,9.76452941 Z"/><path fill="#34A853" d="M16.0407269,18.0125889 C14.9509167,18.7163016 13.5660892,19.0909091 12,19.0909091 C8.86648613,19.0909091 6.21911939,17.076871 5.27698177,14.2678769 L1.23746264,17.3349879 C3.19279051,21.2936293 7.26500293,24 12,24 C14.9328362,24 17.7353462,22.9573905 19.834192,20.9995801 L16.0407269,18.0125889 Z"/><path fill="#4A90E2" d="M19.834192,20.9995801 C22.0291676,18.9520994 23.4545455,15.903663 23.4545455,12 C23.4545455,11.2909091 23.3454545,10.5818182 23.1818182,9.90909091 L12,9.90909091 L12,14.4545455 L18.4363636,14.4545455 C18.1187732,16.013626 17.2662994,17.2212117 16.0407269,18.0125889 L19.834192,20.9995801 Z"/><path fill="#FBBC05" d="M5.27698177,14.2678769 C5.03832634,13.556323 4.90909091,12.7937589 4.90909091,12 C4.90909091,11.2182781 5.03443647,10.4668121 5.26620003,9.76452941 L1.23999023,6.65002441 C0.43658717,8.26043162 0,10.0753848 0,12 C0,13.9195484 0.444780743,15.7301709 1.23746264,17.3349879 L5.27698177,14.2678769 Z"/></svg>
          <span class="text-white font-medium group-hover:text-blue-200 transition-colors">Continuer avec Google</span>
        </button>

        <button (click)="onSocialLogin('apple')" 
                class="w-full flex items-center justify-center gap-3 px-6 py-3 rounded-xl bg-white/5 hover:bg-white/10 border border-white/10 hover:border-white/20 transition-all group">
          <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 24 24"><path d="M17.05 20.28c-.98.95-2.05.8-3.08.35-1.09-.46-2.09-.48-3.24 0-1.44.62-2.2.44-3.06-.35C2.79 15.25 3.51 7.59 9.05 7.31c1.35.07 2.29.74 3.08.8 1.18-.24 2.31-.93 3.57-.84 1.51.12 2.65.72 3.4 1.8-3.12 1.87-2.38 5.98.48 7.13-.57 1.5-1.31 2.99-2.54 4.09l.01-.01zM12.03 7.25c-.15-2.23 1.66-4.07 3.74-4.25.29 2.58-2.34 4.5-3.74 4.25z"/></svg>
          <span class="text-white font-medium group-hover:text-gray-200 transition-colors">Continuer avec Apple</span>
        </button>
      </div>

      <!-- Divider -->
      <div class="relative mb-8">
        <div class="absolute inset-0 flex items-center">
          <div class="w-full border-t border-white/10"></div>
        </div>
        <div class="relative flex justify-center text-sm">
          <span class="px-4 bg-[#0f172a]/50 text-gray-500 font-medium">ou avec email</span>
        </div>
      </div>

      <!-- Magic Link Form -->
      <div *ngIf="!emailSent(); else successState">
        <form (submit)="onSubmitMagicLink()" class="space-y-4">
          <div>
            <label class="block text-sm font-medium text-gray-400 mb-1">Email</label>
            <input type="email" 
                   [(ngModel)]="email" 
                   name="email"
                   placeholder="votre@email.com"
                   class="w-full px-4 py-3 rounded-xl bg-black/40 border border-white/10 text-white placeholder-gray-600 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 focus:outline-none transition-all">
          </div>
          
          <button type="submit" 
                  [disabled]="!email() || isLoading()"
                  class="w-full py-3 rounded-xl bg-gradient-to-r from-blue-600 to-purple-600 text-white font-bold hover:shadow-[0_0_20px_rgba(37,99,235,0.4)] transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2">
            <span *ngIf="!isLoading()">Recevoir mon lien magique ‚ú®</span>
            <span *ngIf="isLoading()" class="animate-spin h-5 w-5 border-2 border-white/30 border-t-white rounded-full"></span>
          </button>
        </form>
      </div>

      <!-- Success State -->
      <ng-template #successState>
        <div class="text-center py-4">
          <div class="w-16 h-16 bg-blue-500/20 rounded-full flex items-center justify-center mx-auto mb-4 animate-pulse">
            <span class="text-3xl">‚úâÔ∏è</span>
          </div>
          <h3 class="text-xl font-bold text-white mb-2">Email envoy√© !</h3>
          <p class="text-gray-400 mb-6">Regarde ta bo√Æte de r√©ception pour te connecter.</p>
          <button (click)="resendEmail()" class="text-blue-400 hover:text-blue-300 text-sm font-medium">
            Essayer une autre adresse
          </button>
        </div>
      </ng-template>

    </div>

    <!-- Footer Links -->
    <p class="text-center mt-8 text-gray-500 text-sm">
      Pas encore de compte ? 
      <a routerLink="/register" class="text-blue-400 hover:text-blue-300 font-medium">S'inscrire</a>
    </p>
  </div>
</div>
