<div class="min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8 bg-slate-950 relative overflow-hidden">
  
  <!-- Background Elements -->
  <div class="absolute top-0 left-0 w-full h-full overflow-hidden z-0 pointer-events-none">
    <div class="absolute top-[-10%] left-[-10%] w-[40%] h-[40%] bg-blue-600/10 rounded-full blur-[100px]"></div>
    <div class="absolute bottom-[-10%] right-[-10%] w-[40%] h-[40%] bg-purple-600/10 rounded-full blur-[100px]"></div>
  </div>

  <div class="max-w-md w-full space-y-8 relative z-10">
    <!-- Header -->
    <div class="text-center">
      <a routerLink="/" class="inline-flex items-center gap-3 mb-6 group">
        <div class="w-10 h-10 flex items-center justify-center bg-gradient-to-br from-blue-500 to-indigo-600 rounded-xl text-white shadow-lg shadow-blue-500/30">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-6 h-6">
              <path d="M6 9H4.5a2.5 2.5 0 0 1 0-5H6" />
              <path d="M18 9h1.5a2.5 2.5 0 0 0 0-5H18" />
              <path d="M4 22h16" />
              <path d="M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22" />
              <path d="M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22" />
              <path d="M18 2H6v7a6 6 0 0 0 12 0V2Z" />
            </svg>
        </div>
        <span class="font-bold text-3xl text-white tracking-tight group-hover:text-blue-500 transition-colors">G4MEPRO AFRICA (GAP)</span>
      </a>
      <h2 class="text-3xl font-extrabold text-white">Bon retour !</h2>
      <p class="mt-2 text-sm text-slate-400">
        Connectez-vous sans mot de passe via Magic Link ou Réseaux Sociaux.
      </p>
    </div>

    <!-- Login Card -->
    <div class="bg-slate-900/80 backdrop-blur-xl p-8 rounded-3xl shadow-2xl border border-slate-800">
      
      <!-- Success State -->
      <div *ngIf="emailSent" class="text-center py-6 animate-fade-in">
        <div class="w-16 h-16 bg-green-500/10 text-green-400 rounded-full flex items-center justify-center mx-auto mb-4 text-3xl">
          ✉️
        </div>
        <h3 class="text-xl font-bold text-white mb-2">Email envoyé !</h3>
        <p class="text-slate-400 mb-6">
          Vérifiez votre boîte de réception (et vos spams). Cliquez sur le lien pour vous connecter.
        </p>
        <button (click)="emailSent = false; email = ''" class="text-blue-400 hover:text-blue-300 font-medium">
          Utiliser une autre adresse
        </button>
      </div>

      <!-- Login Form w/ Magic Link -->
      <div *ngIf="!emailSent">
        <form (ngSubmit)="onSubmit()" class="space-y-6">
          <div>
            <label for="email" class="block text-sm font-medium text-slate-300">Adresse Email</label>
            <div class="mt-1 relative rounded-md shadow-sm">
              <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-slate-500">
                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="20" height="16" x="2" y="4" rx="2"/><path d="m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"/></svg>
              </div>
              <input 
                type="email" 
                name="email" 
                id="email" 
                [(ngModel)]="email"
                required
                email
                [disabled]="loading"
                class="bg-slate-800 border-none text-white focus:ring-2 focus:ring-blue-500 block w-full pl-10 sm:text-sm rounded-xl py-3 placeholder-slate-500 transition-all disabled:opacity-50" 
                placeholder="vous@exemple.com">
            </div>
            <p *ngIf="error" class="mt-2 text-sm text-red-400">{{error}}</p>
          </div>

          <div>
            <button 
              type="submit" 
              [disabled]="loading || !email"
              class="group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-bold rounded-xl text-white bg-blue-600 hover:bg-blue-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-slate-900 focus:ring-blue-500 transition-all hover:-translate-y-0.5 shadow-lg shadow-blue-600/20 disabled:opacity-50 disabled:cursor-not-allowed">
              <span *ngIf="loading" class="absolute inset-y-0 left-0 flex items-center pl-3">
                 <svg class="animate-spin h-5 w-5 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg>
              </span>
              {{ loading ? 'Envoi en cours...' : 'Recevoir mon lien de connexion' }}
            </button>
          </div>
        </form>

        <div class="mt-8 mb-6">
          <div class="relative">
            <div class="absolute inset-0 flex items-center">
              <div class="w-full border-t border-slate-700"></div>
            </div>
            <div class="relative flex justify-center text-sm">
              <span class="px-2 bg-slate-900 text-slate-500">Ou continuer avec</span>
            </div>
          </div>

          <div class="mt-6 grid grid-cols-2 gap-3">
            <button (click)="loginWithOAuth('google')" type="button" class="w-full inline-flex justify-center items-center gap-2 py-2.5 px-4 border border-slate-700 rounded-xl shadow-sm bg-slate-800 text-sm font-medium text-slate-300 hover:bg-slate-700 transition-colors">
              <svg class="h-5 w-5" aria-hidden="true" viewBox="0 0 24 24"><path d="M12.0003 20.45c4.65 0 8.4497-3.7997 8.4497-8.45 0-.75-.075-1.4747-.225-2.175H12.0003v4.125h4.725c-.225 1.125-.875 2.1-1.775 2.7L17.7753 18.9c1.625-1.5 2.6747-3.725 2.6747-6.9 0-.5497-.05-1.0747-.15-1.575H12.0003v-.0003H8.35v1.2378h.0003v2.8872h3.6497zm-6.075-1.8003l-2.825 2.175c1.475 2.925 4.5 4.95 7.95 4.95v-4.125h-5.125z" fill="currentColor"/></svg>
              Google
            </button>
            <button (click)="loginWithOAuth('facebook')" type="button" class="w-full inline-flex justify-center items-center gap-2 py-2.5 px-4 border border-slate-700 rounded-xl shadow-sm bg-slate-800 text-sm font-medium text-slate-300 hover:bg-slate-700 transition-colors">
              <svg class="h-5 w-5" aria-hidden="true" fill="currentColor" viewBox="0 0 24 24"><path fill-rule="evenodd" d="M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z" clip-rule="evenodd" /></svg>
              Facebook
            </button>
          </div>
        </div>
      </div>
      
      <p class="mt-8 text-center text-sm text-slate-400">
        Pas encore de compte ?
        <a routerLink="/register" class="font-medium text-blue-400 hover:text-blue-300 transition-colors">S'inscrire gratuitement</a>
      </p>
    </div>
  </div>
</div>
